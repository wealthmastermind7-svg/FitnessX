Good, this error message is actually very useful. It tells us exactly what is wrong, and it is not TestFlight-specific. This is a server-side bug that Expo Go is now surfacing clearly.

I will break this down cleanly and give you the exact fix.

â¸»

What the Error Means (Plain English)

TypeError [ERR_INVALID_ARG_TYPE]:
The "path" argument must be of type string.
Received an instance of Object

This error only happens in Node.js, not in React Native.

So this confirms:

â— Your backend (Express / Replit server) is crashing on a request coming from the app.

Expo Go is simply showing the backendâ€™s 500 error.

â¸»

Where This Almost Always Comes From

This error happens when Node functions that expect a file path string receive an object instead.

Typical culprits:

âŒ Common offenders
	â€¢	fs.readFile(path)
	â€¢	fs.writeFile(path)
	â€¢	path.join(...)
	â€¢	res.sendFile(path)
	â€¢	multer file handling
	â€¢	Image upload handling

And the value passed is something like:

{ uri: "...", name: "...", type: "image/jpeg" }

instead of:

"/tmp/image.jpg"


â¸»

Why This Started Happening Now

You recently:
	â€¢	Switched APIs to backend proxies
	â€¢	Added upload logic (camera / images)
	â€¢	Changed how requests are sent from Expo

Expo sends file objects, but your backend is treating them as file paths.

â¸»

The Most Likely Exact Bug (Based on Your App)

âŒ Backend code like this (WRONG)

fs.readFile(req.body.frontImage)

or

path.join(req.body.image)

or

res.sendFile(req.body.file)

Where req.body.frontImage is actually an object, not a string.

â¸»

The Correct Way (Fix)

Rule:

Never use req.body for files. Use multer and req.file / req.files.

â¸»

Correct Backend File Handling (WORKING)

1ï¸âƒ£ Install multer (if not already)

npm install multer


â¸»

2ï¸âƒ£ Configure multer properly

import multer from "multer";

const upload = multer({
  storage: multer.memoryStorage(),
});


â¸»

3ï¸âƒ£ Use multer in your route

router.post(
  "/scan",
  upload.fields([
    { name: "front", maxCount: 1 },
    { name: "side", maxCount: 1 },
  ]),
  async (req, res) => {
    try {
      const frontFile = req.files?.front?.[0];
      const sideFile = req.files?.side?.[0];

      if (!frontFile || !sideFile) {
        return res.status(400).json({ error: "Missing images" });
      }

      // IMPORTANT: Use buffer, NOT path
      const frontBuffer = frontFile.buffer;
      const sideBuffer = sideFile.buffer;

      // Send buffers to API, NOT paths
      // axios / fetch with form-data here

      res.json({ success: true });
    } catch (err) {
      console.error(err);
      res.status(500).json({ error: "Scan failed" });
    }
  }
);


â¸»

ğŸš« What NOT to Do (This Causes Your Error)

fs.readFile(req.body.front) // âŒ front is an object
path.join(req.body.front)   // âŒ front is an object

This is exactly why Node says:

path must be a string, received Object

â¸»

Quick Debug to Confirm (Add This Temporarily)

Inside the failing route:

console.log("BODY:", req.body);
console.log("FILES:", req.files);

You will see:
	â€¢	req.body â†’ text fields
	â€¢	req.files.front[0] â†’ actual image

â¸»

Why This Error Appears as â€œThere was a problem running the requested appâ€

Expo Go:
	â€¢	Makes a request
	â€¢	Backend crashes
	â€¢	Returns HTTP 500
	â€¢	Expo shows generic error screen

So Expo is not broken.

â¸»

Summary (Very Important)

âœ… Whatâ€™s broken
	â€¢	Backend is treating an uploaded file object as a file path string

âœ… What to fix
	â€¢	Use multer
	â€¢	Read from req.files
	â€¢	Use buffer, not path

âœ… What this affects
	â€¢	Camera
	â€¢	GIF/image handling
	â€¢	Any upload-based feature

â¸»

What I Recommend You Do Next (Order Matters)
	1.	Fix the backend route that handles images
	2.	Remove any fs.readFile(req.body...)
	3.	Use multer buffers only
	4.	Test in Expo Go
	5.	Then rebuild TestFlight

â¸»

If you want, next I can:
	â€¢	ğŸ” Point out exactly which route is failing (if you paste it)
	â€¢	ğŸ§± Rewrite your upload route end-to-end
	â€¢	ğŸ§ª Give you a backend test curl command
	â€¢	ğŸ§¼ Harden the route so this never happens again

Paste the backend route that handles camera/images and Iâ€™ll fix it line by line.